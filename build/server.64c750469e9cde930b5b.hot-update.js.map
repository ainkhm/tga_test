{"version":3,"file":"server.64c750469e9cde930b5b.hot-update.js","sources":["webpack:///./src/server.js"],"sourcesContent":["import App from './app';\nimport React from 'react';\nimport { StaticRouter } from 'react-router-dom';\nimport express from 'express';\nimport { renderToString } from 'react-dom/server';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport jss from 'jss';\nimport preset from 'jss-preset-default';\nimport {\n\tJssProvider,\n\tThemeProvider,\n\tSheetsRegistry,\n\tcreateGenerateId,\n} from 'react-jss';\n\nimport theme from './config/jss/theme';\nimport defaultUnit from './config/jss/default-unit';\nimport configureStore from './store';\n\njss.setup(\n\tpreset({\n\t\tdefaultUnit,\n\t})\n);\n\nconst assets = require(process.env.RAZZLE_ASSETS_MANIFEST);\n\nconst server = express();\nserver\n\t.disable('x-powered-by')\n\t.use(express.static(process.env.RAZZLE_PUBLIC_DIR))\n\t.get('/*', (req, res) => {\n\t\tconst context = {};\n\t\tconst store = configureStore({ test: 'sdfds' });\n\n\t\tconsole.log('sdf');\n\n\t\tconst markup = renderToString(\n\t\t\t<ReduxProvider store={store}>\n\t\t\t\t<StaticRouter location={req.url} context={context}>\n\t\t\t\t\t<JssProvider jss={jss} registry={sheets} generateId={generateId}>\n\t\t\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t\t\t<App />\n\t\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t</JssProvider>\n\t\t\t\t</StaticRouter>\n\t\t\t</ReduxProvider>\n\t\t);\n\n\t\tconst sheets = new SheetsRegistry();\n\t\tconst generateId = createGenerateId();\n\n\t\tif (context.url) {\n\t\t\tres.redirect(context.url);\n\t\t} else {\n\t\t\tres.status(200).send(\n\t\t\t\t`<!doctype html>\n                    <html lang=\"en\">\n                    <head>\n                        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n                        <meta charset=\"utf-8\" />\n                        <title>TGA - website</title>\n                        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0\">\n                        <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"${\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.env.CLIENT_PUBLIC_PATH || '/'\n\t\t\t\t\t\t\t\t\t\t\t\t}apple-touch-icon.png\">\n                        <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"${\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.env.CLIENT_PUBLIC_PATH || '/'\n\t\t\t\t\t\t\t\t\t\t\t\t}favicon-32x32.png\">\n                        <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"${\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.env.CLIENT_PUBLIC_PATH || '/'\n\t\t\t\t\t\t\t\t\t\t\t\t}favicon-16x16.png\">\n                        <link rel=\"manifest\" href=\"${\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.env.CLIENT_PUBLIC_PATH || ''\n\t\t\t\t\t\t\t\t\t\t\t\t}/site.webmanifest\">\n                        <style type=\"text/css\">${sheets.toString()}</style>\n                        ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tassets.client.css\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `<link rel=\"stylesheet\" href=\"${assets.client.css}\">`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t\t\t}\n                        ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.env.NODE_ENV === 'production'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `<script src=\"${assets.client.js}\" defer></script>`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: `<script src=\"${assets.client.js}\" defer crossorigin></script>`\n\t\t\t\t\t\t\t\t\t\t\t\t}\n                    </head>\n                    <body>\n                        <div id=\"root\">${markup}</div>\n                    </body>\n                </html>`\n\t\t\t);\n\t\t}\n\t});\n\nexport default server;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AAEA;AAEA;AADA;AACA;AAIA;AACA;AACA;AACA;AAIA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAqCA;AACA;AAEA;;;;A","sourceRoot":""}