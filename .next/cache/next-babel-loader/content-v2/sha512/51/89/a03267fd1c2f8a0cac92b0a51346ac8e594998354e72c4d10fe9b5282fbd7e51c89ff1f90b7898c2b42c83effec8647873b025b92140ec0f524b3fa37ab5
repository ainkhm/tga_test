{"ast":null,"code":"var _jsxFileName = \"/Users/ainkhm/Desktop/tga_test/src/pages/crewman/carousel/index.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport useStyles from './use-styles';\nimport { useMediaQuery } from 'react-responsive';\nimport { mobileSize, tabletSize } from '@/helpers/breakpoints';\nimport calcBgNo from '@/helpers/calcBgNo';\nimport Carousel from '@/components/carousel';\nimport Wrap from '@/components/wrap';\nimport { Header1 } from '@/components/typography';\nimport { CrewCard } from '@/components/cards';\n\nconst CrewCarousel = ({\n  member\n}) => {\n  const styles = useStyles();\n  const {\n    team\n  } = useSelector(state => state.TeamAll);\n  const isMobile = useMediaQuery(mobileSize);\n  const isTablet = useMediaQuery(tabletSize);\n  const {\n    0: width,\n    1: setWidth\n  } = useState(false);\n  const {\n    workedOn\n  } = member;\n  const rolesArr = workedOn && workedOn.map(item => item.position);\n  const rolesString = rolesArr && rolesArr.join('s, ');\n  const accounts = [];\n  team.forEach(account => {\n    const roles = account.workedOn.map(spot => spot.position);\n    const found = rolesArr ? rolesArr.some(role => roles.includes(role)) : false;\n    found && account._id !== member._id && accounts.push(account);\n  });\n  const slidesToShow = isMobile ? 1 : isTablet ? 2 : accounts.length > 3 ? 4 : accounts.length;\n  useEffect(() => {\n    setWidth(isMobile);\n  }, []);\n  return __jsx(\"section\", {\n    className: styles.crewCarousel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 3\n    }\n  }, __jsx(Wrap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }\n  }, rolesString && __jsx(Header1, {\n    title: `Other ${rolesString}s in our company`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 6\n    }\n  }), __jsx(Carousel, {\n    slidesToShow: slidesToShow,\n    slidesToScroll: 1,\n    variableWidth: width,\n    className: styles.customCarousel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, accounts.map((item, index) => {\n    return __jsx(CrewCard, {\n      name: item.name,\n      bio: item.roles,\n      photos: [item.imageKeys.professional, item.imageKeys.smiley],\n      url: item.slug,\n      index: index,\n      key: item._id,\n      bgNo: calcBgNo(index, 6),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 8\n      }\n    });\n  }))));\n};\n\nexport default CrewCarousel;","map":{"version":3,"sources":["/Users/ainkhm/Desktop/tga_test/src/pages/crewman/carousel/index.js"],"names":["React","useState","useEffect","useSelector","useStyles","useMediaQuery","mobileSize","tabletSize","calcBgNo","Carousel","Wrap","Header1","CrewCard","CrewCarousel","member","styles","team","state","TeamAll","isMobile","isTablet","width","setWidth","workedOn","rolesArr","map","item","position","rolesString","join","accounts","forEach","account","roles","spot","found","some","role","includes","_id","push","slidesToShow","length","crewCarousel","customCarousel","index","name","imageKeys","professional","smiley","slug"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport useStyles from './use-styles';\nimport { useMediaQuery } from 'react-responsive';\nimport { mobileSize, tabletSize } from '@/helpers/breakpoints';\nimport calcBgNo from '@/helpers/calcBgNo';\nimport Carousel from '@/components/carousel';\nimport Wrap from '@/components/wrap';\nimport { Header1 } from '@/components/typography';\nimport { CrewCard } from '@/components/cards';\n\nconst CrewCarousel = ({ member }) => {\n\tconst styles = useStyles();\n\tconst { team } = useSelector((state) => state.TeamAll);\n\n\tconst isMobile = useMediaQuery(mobileSize);\n\tconst isTablet = useMediaQuery(tabletSize);\n\n\tconst [width, setWidth] = useState(false);\n\n\tconst { workedOn } = member;\n\n\tconst rolesArr = workedOn && workedOn.map((item) => item.position);\n\tconst rolesString = rolesArr && rolesArr.join('s, ');\n\n\tconst accounts = [];\n\n\tteam.forEach((account) => {\n\t\tconst roles = account.workedOn.map((spot) => spot.position);\n\t\tconst found = rolesArr\n\t\t\t? rolesArr.some((role) => roles.includes(role))\n\t\t\t: false;\n\t\tfound && account._id !== member._id && accounts.push(account);\n\t});\n\n\tconst slidesToShow = isMobile\n\t\t? 1\n\t\t: isTablet\n\t\t? 2\n\t\t: accounts.length > 3\n\t\t? 4\n\t\t: accounts.length;\n\n\tuseEffect(() => {\n\t\tsetWidth(isMobile);\n\t}, []);\n\n\treturn (\n\t\t<section className={styles.crewCarousel}>\n\t\t\t<Wrap>\n\t\t\t\t{rolesString && (\n\t\t\t\t\t<Header1 title={`Other ${rolesString}s in our company`} />\n\t\t\t\t)}\n\t\t\t\t<Carousel\n\t\t\t\t\tslidesToShow={slidesToShow}\n\t\t\t\t\tslidesToScroll={1}\n\t\t\t\t\tvariableWidth={width}\n\t\t\t\t\tclassName={styles.customCarousel}\n\t\t\t\t>\n\t\t\t\t\t{accounts.map((item, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<CrewCard\n\t\t\t\t\t\t\t\tname={item.name}\n\t\t\t\t\t\t\t\tbio={item.roles}\n\t\t\t\t\t\t\t\tphotos={[item.imageKeys.professional, item.imageKeys.smiley]}\n\t\t\t\t\t\t\t\turl={item.slug}\n\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\tkey={item._id}\n\t\t\t\t\t\t\t\tbgNo={calcBgNo(index, 6)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Carousel>\n\t\t\t</Wrap>\n\t\t</section>\n\t);\n};\n\nexport default CrewCarousel;\n"]},"metadata":{},"sourceType":"module"}