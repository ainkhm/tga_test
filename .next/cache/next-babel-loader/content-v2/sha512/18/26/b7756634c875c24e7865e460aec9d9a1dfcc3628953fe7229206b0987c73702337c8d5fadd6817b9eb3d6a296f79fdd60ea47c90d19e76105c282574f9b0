{"ast":null,"code":"import _toConsumableArray from \"/Users/ainkhm/Desktop/tga_test/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"/Users/ainkhm/Desktop/tga_test/src/components/filters/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useRef } from 'react';\nimport useStyles from './use-styles';\nimport { useMediaQuery } from 'react-responsive';\nimport { mobileSize } from '@/helpers/breakpoints';\nimport { Description1 } from '@/components/typography';\nimport { selectAll } from 'css-select';\nexport default function Filters(_ref) {\n  _s();\n\n  var _this = this;\n\n  var title = _ref.title,\n      data = _ref.data;\n  var ref = useRef(null);\n  var styles = useStyles();\n\n  var _useState = useState([]),\n      checked = _useState[0],\n      setChecked = _useState[1];\n\n  var _useState2 = useState(false),\n      showAll = _useState2[0],\n      setShowAll = _useState2[1];\n\n  var _useState3 = useState(null),\n      width = _useState3[0],\n      setWidth = _useState3[1];\n\n  var isMobile = useMediaQuery(mobileSize);\n\n  var setFilter = function setFilter(e) {\n    var index = e.currentTarget.dataset.index;\n    var clikedItem = Number(index);\n\n    if (showAll) {\n      setShowAll(false);\n    }\n\n    var filtersToggling = checked.includes(clikedItem) ? checked.filter(function (i) {\n      return i != clikedItem;\n    }) // remove item\n    : [].concat(_toConsumableArray(checked), [Number(index)]); // add item\n\n    setChecked(filtersToggling);\n  };\n\n  var all = function all() {\n    setChecked([]);\n    setShowAll(!showAll);\n  };\n\n  var computedRowWidth = Boolean(Object.keys(data).length > 4);\n  useEffect(function () {\n    var blockWidth = ref.current ? ref.current.offsetWidth : 0;\n    var computed = blockWidth / 2 + 30;\n    setWidth(computed);\n  }, []);\n  return __jsx(\"div\", {\n    className: styles.filters,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }\n  }, __jsx(Description1, {\n    className: styles.textBolder,\n    title: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }\n  }), __jsx(\"ul\", {\n    className: styles.filtersList,\n    style: isMobile ? {\n      width: '100%'\n    } : {\n      width: computedRowWidth ? width : 'auto'\n    },\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }\n  }, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, __jsx(\"input\", {\n    id: \"all\",\n    className: styles.filterItem,\n    type: \"checkbox\",\n    checked: showAll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"all\",\n    onClick: all,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 6\n    }\n  }, \"All\")), data.map(function (filter, index) {\n    return __jsx(Filter, {\n      key: filter,\n      item: filter,\n      all: showAll,\n      index: index,\n      status: checked.includes(index),\n      onClick: setFilter,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    });\n  })));\n}\n\n_s(Filters, \"X06Oqc6ZfHlZu12RbzXUninLH94=\", false, function () {\n  return [useStyles, useMediaQuery];\n});\n\n_c = Filters;\n\nfunction Filter(_ref2) {\n  _s2();\n\n  var index = _ref2.index,\n      item = _ref2.item,\n      status = _ref2.status,\n      onClick = _ref2.onClick;\n  var styles = useStyles();\n  return __jsx(\"li\", {\n    key: \"filter-\".concat(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 3\n    }\n  }, __jsx(\"input\", {\n    id: index,\n    className: styles.filterItem,\n    type: \"checkbox\",\n    checked: status,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }\n  }), __jsx(\"label\", {\n    htmlFor: index,\n    onClick: onClick,\n    \"data-index\": index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 4\n    }\n  }, item));\n}\n\n_s2(Filter, \"3bjLmUB54uhXRX+frDMowQzU8P8=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = Filter;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Filters\");\n$RefreshReg$(_c2, \"Filter\");","map":{"version":3,"sources":["/Users/ainkhm/Desktop/tga_test/src/components/filters/index.js"],"names":["React","useState","useEffect","useRef","useStyles","useMediaQuery","mobileSize","Description1","selectAll","Filters","title","data","ref","styles","checked","setChecked","showAll","setShowAll","width","setWidth","isMobile","setFilter","e","index","currentTarget","dataset","clikedItem","Number","filtersToggling","includes","filter","i","all","computedRowWidth","Boolean","Object","keys","length","blockWidth","current","offsetWidth","computed","filters","textBolder","filtersList","filterItem","map","Filter","item","status","onClick"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport useStyles from './use-styles';\nimport { useMediaQuery } from 'react-responsive';\nimport { mobileSize } from '@/helpers/breakpoints';\nimport { Description1 } from '@/components/typography';\nimport { selectAll } from 'css-select';\n\nexport default function Filters({ title, data }) {\n\tconst ref = useRef(null);\n\tconst styles = useStyles();\n\n\tconst [checked, setChecked] = useState([]);\n\tconst [showAll, setShowAll] = useState(false);\n\tconst [width, setWidth] = useState(null);\n\n\tconst isMobile = useMediaQuery(mobileSize);\n\n\tconst setFilter = (e) => {\n\t\tconst { index } = e.currentTarget.dataset;\n\t\tconst clikedItem = Number(index);\n\n\t\tif (showAll) {\n\t\t\tsetShowAll(false);\n\t\t}\n\t\tconst filtersToggling = checked.includes(clikedItem)\n\t\t\t? checked.filter((i) => i != clikedItem) // remove item\n\t\t\t: [...checked, Number(index)]; // add item\n\n\t\tsetChecked(filtersToggling);\n\t};\n\n\tconst all = () => {\n\t\tsetChecked([]);\n\t\tsetShowAll(!showAll);\n\t};\n\n\tconst computedRowWidth = Boolean(Object.keys(data).length > 4);\n\n\tuseEffect(() => {\n\t\tconst blockWidth = ref.current ? ref.current.offsetWidth : 0;\n\t\tconst computed = blockWidth / 2 + 30;\n\t\tsetWidth(computed);\n\t}, []);\n\n\treturn (\n\t\t<div className={styles.filters}>\n\t\t\t<Description1 className={styles.textBolder} title={title} />\n\t\t\t<ul\n\t\t\t\tclassName={styles.filtersList}\n\t\t\t\tstyle={\n\t\t\t\t\tisMobile\n\t\t\t\t\t\t? { width: '100%' }\n\t\t\t\t\t\t: { width: computedRowWidth ? width : 'auto' }\n\t\t\t\t}\n\t\t\t\tref={ref}\n\t\t\t>\n\t\t\t\t<li>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid='all'\n\t\t\t\t\t\tclassName={styles.filterItem}\n\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\tchecked={showAll}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor='all' onClick={all}>\n\t\t\t\t\t\tAll\n\t\t\t\t\t</label>\n\t\t\t\t</li>\n\t\t\t\t{data.map((filter, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Filter\n\t\t\t\t\t\t\tkey={filter}\n\t\t\t\t\t\t\titem={filter}\n\t\t\t\t\t\t\tall={showAll}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\tstatus={checked.includes(index)}\n\t\t\t\t\t\t\tonClick={setFilter}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n\nfunction Filter({ index, item, status, onClick }) {\n\tconst styles = useStyles();\n\n\treturn (\n\t\t<li key={`filter-${index}`}>\n\t\t\t<input\n\t\t\t\tid={index}\n\t\t\t\tclassName={styles.filterItem}\n\t\t\t\ttype='checkbox'\n\t\t\t\tchecked={status}\n\t\t\t/>\n\t\t\t<label htmlFor={index} onClick={onClick} data-index={index}>\n\t\t\t\t{item}\n\t\t\t</label>\n\t\t</li>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}